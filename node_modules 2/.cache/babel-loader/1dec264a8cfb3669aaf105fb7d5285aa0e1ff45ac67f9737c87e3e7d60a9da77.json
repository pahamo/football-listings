{"ast":null,"code":"var _jsxFileName = \"/Users/p/Documents/pl_tv_mvp_spa/react-version/src/pages/legal/LegalLayout.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useMemo, useRef } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LegalLayout = ({\n  title,\n  lastUpdated,\n  robotsNoIndex = true,\n  toc = [],\n  children\n}) => {\n  _s();\n  const mainRef = useRef(null);\n  const today = useMemo(() => {\n    const d = new Date();\n    return `${d.getFullYear()}-${String(d.getMonth() + 1).padStart(2, '0')}-${String(d.getDate()).padStart(2, '0')}`;\n  }, []);\n  useEffect(() => {\n    var _mainRef$current;\n    // Focus main content for accessibility after navigation\n    (_mainRef$current = mainRef.current) === null || _mainRef$current === void 0 ? void 0 : _mainRef$current.focus();\n  }, []);\n  useEffect(() => {\n    // Optionally set robots meta for these pages\n    const name = 'robots';\n    let meta = document.querySelector(`meta[name=\"${name}\"]`);\n    if (!meta) {\n      meta = document.createElement('meta');\n      meta.setAttribute('name', name);\n      document.head.appendChild(meta);\n    }\n    meta.setAttribute('content', robotsNoIndex ? 'noindex,follow' : 'index,follow');\n    return () => {\n      var _meta;\n      // Do not remove meta to avoid thrashing; restore to index,follow\n      (_meta = meta) === null || _meta === void 0 ? void 0 : _meta.setAttribute('content', 'index,follow');\n    };\n  }, [robotsNoIndex]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"legal-layout\",\n    children: /*#__PURE__*/_jsxDEV(\"main\", {\n      ref: mainRef,\n      tabIndex: -1,\n      className: \"wrap\",\n      \"aria-labelledby\": \"legal-title\",\n      style: {\n        paddingTop: 24,\n        paddingBottom: 24\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        style: {\n          marginBottom: 16\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          id: \"legal-title\",\n          style: {\n            margin: 0\n          },\n          children: title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"muted\",\n          style: {\n            margin: '8px 0 0'\n          },\n          children: [\"Last updated: \", lastUpdated || today]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), toc.length > 0 && /*#__PURE__*/_jsxDEV(\"nav\", {\n        \"aria-label\": \"Table of contents\",\n        style: {\n          margin: '12px 0 20px'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          style: {\n            margin: 0,\n            paddingLeft: 16\n          },\n          children: toc.map(item => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              href: `#${item.id}`,\n              style: {\n                color: '#6366f1'\n              },\n              children: item.label\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 19\n            }, this)\n          }, item.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"article\", {\n        children: children\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n};\n_s(LegalLayout, \"Fp36UUWTyVedkUPxeJCnQ101mlg=\");\n_c = LegalLayout;\nexport default LegalLayout;\nvar _c;\n$RefreshReg$(_c, \"LegalLayout\");","map":{"version":3,"names":["React","useEffect","useMemo","useRef","jsxDEV","_jsxDEV","LegalLayout","title","lastUpdated","robotsNoIndex","toc","children","_s","mainRef","today","d","Date","getFullYear","String","getMonth","padStart","getDate","_mainRef$current","current","focus","name","meta","document","querySelector","createElement","setAttribute","head","appendChild","_meta","className","ref","tabIndex","style","paddingTop","paddingBottom","marginBottom","id","margin","fileName","_jsxFileName","lineNumber","columnNumber","length","paddingLeft","map","item","href","color","label","_c","$RefreshReg$"],"sources":["/Users/p/Documents/pl_tv_mvp_spa/react-version/src/pages/legal/LegalLayout.tsx"],"sourcesContent":["import React, { useEffect, useMemo, useRef } from 'react';\n\ninterface TocItem {\n  id: string;\n  label: string;\n}\n\ninterface LegalLayoutProps {\n  title: string;\n  lastUpdated?: string; // YYYY-MM-DD\n  robotsNoIndex?: boolean;\n  toc?: TocItem[];\n  children: React.ReactNode;\n}\n\nconst LegalLayout: React.FC<LegalLayoutProps> = ({\n  title,\n  lastUpdated,\n  robotsNoIndex = true,\n  toc = [],\n  children,\n}) => {\n  const mainRef = useRef<HTMLElement>(null);\n\n  const today = useMemo(() => {\n    const d = new Date();\n    return `${d.getFullYear()}-${String(d.getMonth() + 1).padStart(2, '0')}-${String(d.getDate()).padStart(2, '0')}`;\n  }, []);\n\n  useEffect(() => {\n    // Focus main content for accessibility after navigation\n    mainRef.current?.focus();\n  }, []);\n\n  useEffect(() => {\n    // Optionally set robots meta for these pages\n    const name = 'robots';\n    let meta = document.querySelector(`meta[name=\"${name}\"]`);\n    if (!meta) {\n      meta = document.createElement('meta');\n      meta.setAttribute('name', name);\n      document.head.appendChild(meta);\n    }\n    meta.setAttribute('content', robotsNoIndex ? 'noindex,follow' : 'index,follow');\n    return () => {\n      // Do not remove meta to avoid thrashing; restore to index,follow\n      meta?.setAttribute('content', 'index,follow');\n    };\n  }, [robotsNoIndex]);\n\n  return (\n    <div className=\"legal-layout\">\n      <main ref={mainRef} tabIndex={-1} className=\"wrap\" aria-labelledby=\"legal-title\" style={{ paddingTop: 24, paddingBottom: 24 }}>\n        <header style={{ marginBottom: 16 }}>\n          <h1 id=\"legal-title\" style={{ margin: 0 }}>{title}</h1>\n          <p className=\"muted\" style={{ margin: '8px 0 0' }}>Last updated: {lastUpdated || today}</p>\n        </header>\n\n        {toc.length > 0 && (\n          <nav aria-label=\"Table of contents\" style={{ margin: '12px 0 20px' }}>\n            <ul style={{ margin: 0, paddingLeft: 16 }}>\n              {toc.map(item => (\n                <li key={item.id}>\n                  <a href={`#${item.id}`} style={{ color: '#6366f1' }}>{item.label}</a>\n                </li>\n              ))}\n            </ul>\n          </nav>\n        )}\n\n        <article>{children}</article>\n      </main>\n    </div>\n  );\n};\n\nexport default LegalLayout;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}