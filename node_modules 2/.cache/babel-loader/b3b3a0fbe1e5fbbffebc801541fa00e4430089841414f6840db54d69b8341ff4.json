{"ast":null,"code":"import React,{useState,useEffect}from'react';import{getSimpleFixtures}from'../services/supabase-simple';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const HomePage=()=>{const[fixtures,setFixtures]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{loadFixtures();},[]);const loadFixtures=async()=>{try{setLoading(true);setError(null);const fixturesData=await getSimpleFixtures();setFixtures(fixturesData);}catch(err){console.error('Failed to load fixtures:',err);setError('Failed to load fixtures. Please try again later.');}finally{setLoading(false);}};if(loading){return/*#__PURE__*/_jsxs(\"div\",{className:\"home-page\",children:[/*#__PURE__*/_jsxs(\"header\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Premier League TV Schedule\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Find which broadcaster shows every match: Sky Sports, TNT Sports\"})]}),/*#__PURE__*/_jsx(\"main\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"wrap\",children:/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"Loading fixtures...\"})})})]});}if(error){return/*#__PURE__*/_jsxs(\"div\",{className:\"home-page\",children:[/*#__PURE__*/_jsxs(\"header\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Premier League TV Schedule\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Find which broadcaster shows every match: Sky Sports, TNT Sports\"})]}),/*#__PURE__*/_jsx(\"main\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"wrap\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"error\",children:error}),/*#__PURE__*/_jsx(\"button\",{onClick:loadFixtures,children:\"Retry\"})]})})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"home-page\",children:[/*#__PURE__*/_jsxs(\"header\",{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{style:{margin:0},children:\"Premier League TV Schedule UK\"}),/*#__PURE__*/_jsx(\"p\",{style:{margin:0,color:'var(--color-muted)'},children:\"Find which broadcaster shows every match: Sky Sports, TNT Sports, BBC\"})]}),/*#__PURE__*/_jsxs(\"nav\",{style:{display:'flex',gap:'12px'},children:[/*#__PURE__*/_jsx(\"a\",{href:\"/clubs\",style:{color:'#6366f1',textDecoration:'underline',fontSize:'0.9rem'},children:\"Clubs\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/about\",style:{color:'#6366f1',textDecoration:'underline',fontSize:'0.9rem'},children:\"About\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/admin\",style:{color:'#6366f1',textDecoration:'underline',fontSize:'0.9rem'},children:\"Admin\"})]})]}),/*#__PURE__*/_jsx(\"main\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"wrap\",children:fixtures.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"no-fixtures\",children:/*#__PURE__*/_jsx(\"p\",{children:\"No upcoming fixtures found.\"})}):/*#__PURE__*/_jsxs(\"div\",{className:\"fixtures-list\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Upcoming Fixtures (\",fixtures.length,\")\",/*#__PURE__*/_jsx(\"a\",{href:\"/admin\",style:{marginLeft:'15px',color:'#6366f1',textDecoration:'underline',fontSize:'0.8rem'},children:\"\\uD83D\\uDD27 Admin\"})]}),fixtures.map(fixture=>/*#__PURE__*/_jsxs(\"div\",{className:\"fixture-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"fixture-datetime\",children:new Date(fixture.kickoff_utc).toLocaleDateString('en-GB',{weekday:'short',month:'short',day:'numeric',hour:'2-digit',minute:'2-digit',timeZone:'Europe/London'})}),/*#__PURE__*/_jsxs(\"div\",{className:\"fixture-teams\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"team\",children:/*#__PURE__*/_jsx(\"span\",{className:\"team-name\",children:fixture.home_team})}),/*#__PURE__*/_jsx(\"div\",{className:\"vs\",children:\"vs\"}),/*#__PURE__*/_jsx(\"div\",{className:\"team away-team\",children:/*#__PURE__*/_jsx(\"span\",{className:\"team-name\",children:fixture.away_team})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"broadcaster-info\",children:fixture.broadcaster?/*#__PURE__*/_jsx(\"span\",{className:\"provider confirmed\",children:fixture.broadcaster}):/*#__PURE__*/_jsx(\"span\",{className:\"tbd-text\",children:\"TBD\"})}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'12px',textAlign:'right'},children:/*#__PURE__*/_jsx(\"a\",{href:\"/matches/\".concat(fixture.id),style:{color:'#6366f1',textDecoration:'underline',fontSize:'0.9rem',fontWeight:'500'},children:\"Details \\u2192\"})})]},fixture.id))]})})})]});};export default HomePage;","map":{"version":3,"names":["React","useState","useEffect","getSimpleFixtures","jsx","_jsx","jsxs","_jsxs","HomePage","fixtures","setFixtures","loading","setLoading","error","setError","loadFixtures","fixturesData","err","console","className","children","onClick","style","margin","color","display","gap","href","textDecoration","fontSize","length","marginLeft","map","fixture","Date","kickoff_utc","toLocaleDateString","weekday","month","day","hour","minute","timeZone","home_team","away_team","broadcaster","marginTop","textAlign","concat","id","fontWeight"],"sources":["/Users/p/Documents/pl_tv_mvp_spa/react-version/src/pages/HomePage.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { getSimpleFixtures, type SimpleFixture } from '../services/supabase-simple';\n\nconst HomePage: React.FC = () => {\n  const [fixtures, setFixtures] = useState<SimpleFixture[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    loadFixtures();\n  }, []);\n\n  const loadFixtures = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      \n      const fixturesData = await getSimpleFixtures();\n      setFixtures(fixturesData);\n    } catch (err) {\n      console.error('Failed to load fixtures:', err);\n      setError('Failed to load fixtures. Please try again later.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"home-page\">\n        <header>\n          <h1>Premier League TV Schedule</h1>\n          <p>Find which broadcaster shows every match: Sky Sports, TNT Sports</p>\n        </header>\n        \n        <main>\n          <div className=\"wrap\">\n            <div className=\"loading\">Loading fixtures...</div>\n          </div>\n        </main>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"home-page\">\n        <header>\n          <h1>Premier League TV Schedule</h1>\n          <p>Find which broadcaster shows every match: Sky Sports, TNT Sports</p>\n        </header>\n        \n        <main>\n          <div className=\"wrap\">\n            <div className=\"error\">{error}</div>\n            <button onClick={loadFixtures}>Retry</button>\n          </div>\n        </main>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"home-page\">\n      <header>\n        <div>\n          <h1 style={{ margin: 0 }}>Premier League TV Schedule UK</h1>\n          <p style={{ margin: 0, color: 'var(--color-muted)' }}>Find which broadcaster shows every match: Sky Sports, TNT Sports, BBC</p>\n        </div>\n        <nav style={{ display: 'flex', gap: '12px' }}>\n          <a href=\"/clubs\" style={{ color: '#6366f1', textDecoration: 'underline', fontSize: '0.9rem' }}>Clubs</a>\n          <a href=\"/about\" style={{ color: '#6366f1', textDecoration: 'underline', fontSize: '0.9rem' }}>About</a>\n          <a href=\"/admin\" style={{ color: '#6366f1', textDecoration: 'underline', fontSize: '0.9rem' }}>Admin</a>\n        </nav>\n      </header>\n      \n      <main>\n        <div className=\"wrap\">\n          {fixtures.length === 0 ? (\n            <div className=\"no-fixtures\">\n              <p>No upcoming fixtures found.</p>\n            </div>\n          ) : (\n            <div className=\"fixtures-list\">\n              <h2>Upcoming Fixtures ({fixtures.length}) \n                <a href=\"/admin\" style={{ marginLeft: '15px', color: '#6366f1', textDecoration: 'underline', fontSize: '0.8rem' }}>\n                  ðŸ”§ Admin\n                </a>\n              </h2>\n              {fixtures.map(fixture => (\n                <div key={fixture.id} className=\"fixture-card\">\n                  <div className=\"fixture-datetime\">\n                    {new Date(fixture.kickoff_utc).toLocaleDateString('en-GB', {\n                      weekday: 'short',\n                      month: 'short', \n                      day: 'numeric',\n                      hour: '2-digit',\n                      minute: '2-digit',\n                      timeZone: 'Europe/London'\n                    })}\n                  </div>\n                  <div className=\"fixture-teams\">\n                    <div className=\"team\">\n                      <span className=\"team-name\">{fixture.home_team}</span>\n                    </div>\n                    <div className=\"vs\">vs</div>\n                    <div className=\"team away-team\">\n                      <span className=\"team-name\">{fixture.away_team}</span>\n                    </div>\n                  </div>\n                  <div className=\"broadcaster-info\">\n                    {fixture.broadcaster ? (\n                      <span className=\"provider confirmed\">{fixture.broadcaster}</span>\n                    ) : (\n                      <span className=\"tbd-text\">TBD</span>\n                    )}\n                  </div>\n                  <div style={{ marginTop: '12px', textAlign: 'right' }}>\n                    <a \n                      href={`/matches/${fixture.id}`} \n                      style={{ \n                        color: '#6366f1', \n                        textDecoration: 'underline', \n                        fontSize: '0.9rem',\n                        fontWeight: '500'\n                      }}\n                    >\n                      Details â†’\n                    </a>\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n      </main>\n    </div>\n  );\n};\n\nexport default HomePage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}