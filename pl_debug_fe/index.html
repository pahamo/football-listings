<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>PL Listings – Fresh FE</title>
  <link rel="stylesheet" href="/style.css" />
</head>
<body>
  <header class="panel">
    <h1>Fresh Frontend (Debug-first)</h1>
    <div class="row">
      <label>Supabase URL
        <input id="sbUrl" placeholder="https://YOURPROJECT.supabase.co" />
      </label>
      <label>Anon Key
        <input id="sbKey" placeholder="paste anon key" />
      </label>
      <button id="saveEnv">Save</button>
      <span id="envMsg" class="muted"></span>
    </div>
    <div class="row">
      <label>From <input type="date" id="from" /></label>
      <label>To <input type="date" id="to" /></label>
      <label>Team <input id="team" placeholder="Arsenal" /></label>
      <button id="load">Load</button>
      <span class="badge" id="count">0</span>
    </div>
  </header>

  <main class="cols">
    <section class="panel">
      <h2>Fixtures (<code>vw_fixtures_expanded</code>)</h2>
      <table id="tbl">
        <thead>
          <tr>
            <th>Date</th>
            <th>KO (UTC)</th>
            <th>Home</th>
            <th>Away</th>
            <th>Broadcasters</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </section>

    <section class="panel">
      <h2>Detail JSON</h2>
      <pre id="detail">Select a row…</pre>
      <h3>Errors</h3>
      <pre id="errors" class="error">None</pre>
      <h3>Logs</h3>
      <pre id="logs" class="muted">Ready</pre>
    </section>
  </main>

  <script type="module" src="/main.js"></script>
</body>
</html>